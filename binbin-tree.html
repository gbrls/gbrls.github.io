<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <h2>The trick</h2>
    <p>I really like tricks with binary numbers. This one I was using to test digital systems.</p>
    <p>> <code>![image](/gallery/binbin-tree.png)</code></p>
    <p>So, were does this come from? Is this generated by some <strong>slow</strong> recursive algorithm? No! This complete binary tree is generated by this code:</p>
    <pre>if (col &amp; (1 &lt;&lt; line)) != 0 {<br>    *pixel = c[line % c.len()];<br>}</pre>
    <h2>How it works</h2>
    <p>So, how does this work? Well, let's count binary numbers.</p>
    <pre>111<br>110<br>101<br>100<br><br>011<br>010<br>001<br>000</pre>
    <p>The leftmost bit changes every four lines, the middle bit every two lines and the rightmost every other line. From this pattern it's clear that every combination of the three bits will be generated once, for this reason and because it's very easy to generate I was using it to test my digital circuit.</p>
    <p>But how do we generate these numbers? Just count from 0 up to 2^n - 1, in this case from 0 to 7:</p>
    <pre>000 = 0<br>001 = 1<br>010 = 2<br>011 = 3<br>100 = 4<br>101 = 5<br>110 = 6<br>111 = 7</pre>
    <h2>The tree</h2>
    <p>This is also a complete binary tree. If you think about it as a decision tree, it may be easier to see the reason why. The first bit can be either true of false, for each case the second bit can be true or false too; if one is true, it is highlighted, otherwise it's black. The number of different leaves is exactly the number of all possible binary strings with <code>H</code> bits, where <code>H</code> is equal to the height of the tree.</p>
  </body>
</html>
