<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">




<link rel="stylesheet" href="/css/main.css" integrity="">

<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Barlow&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <title>
myLisp Interpreter 2: Functions and Eval &ndash; gbrls - Gabriel Schneider&#39;s website

    </title>
</head>

<body>
    

    <div class="main-content">
        
<div class="single-content">
    <h1>myLisp Interpreter 2: Functions and Eval</h1>

    <p>This is the third part of a series of articles that I&rsquo;m writing to document by
progress on building a Interpreter for myLisp, a lisp-like language. For the previous post <a href="/mk-lisp-1">click
here</a>.</p>
<h3 id="mylisp-symbols">myLisp symbols</h3>
<p>From the previous articles myLisp&rsquo;s symbols are just strings, but if we write
<code>(CONS (QUOTE A) nil)</code> how does de compiler know which piece of code runs when
<code>CONS</code> is called? It doesn&rsquo;t know. So we are going to change the symbol
representation from a string to a struct:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#00f">typedef</span> <span style="color:#00f">struct</span> {
	<span style="color:#00f">char</span>* <span style="color:#000">name</span>; <span style="color:#888;font-style:italic">// Symbol&#39;s name
</span><span style="color:#888;font-style:italic"></span>	<span style="color:#000">Lisp_Object</span>*<span style="color:#000">function</span>; <span style="color:#888;font-style:italic">// Builtin function pointer
</span><span style="color:#888;font-style:italic"></span>	<span style="color:#000">Lisp_Object</span> <span style="color:#000">obj</span>; <span style="color:#888;font-style:italic">// The object which is stored in the symbol
</span><span style="color:#888;font-style:italic"></span>}<span style="color:#000">Lisp_Symbol</span>;
</code></pre></td></tr></table>
</div>
</div>
</div>

    </div>
    
    
    <footer class="footer">
    <ul>
        <li>Gabriel Schneider</li>
        <li><a href="mailto:gas6@cin.ufpe.br">gas6@cin.ufpe.br</a></li>
    </ul>
</footer>
    

</body>

</html>